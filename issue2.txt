This is code after issue 2.